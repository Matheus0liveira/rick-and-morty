{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useRef, useEffect } from 'react';\nimport Link from 'next/link';\nimport Router, { useRouter } from 'next/router';\nimport Lottie from 'react-lottie';\nimport { FiSearch, FiArrowLeft, FiArrowRight, FiHeart } from 'react-icons/fi';\nimport StyledMain, { Text, Description, StyledButton, StyledArrowDown, StyledProfiles, InputSearch, Box, Line, SectionCards, CountPages } from './styles';\nimport { Container } from '../../assets/globalStyles';\nimport SwipeDown from '../../../public/swipeDown.json';\nimport Loading from '../../../public/loading.json';\nimport Card from '../../compoenents/Card';\n\nvar scrollToRef = function scrollToRef(ref) {\n  return window.scrollTo(0, ref.current.offsetTop);\n};\n\nfunction Home(_ref) {\n  var data = _ref.data,\n      params = _ref.params;\n\n  var _useState = useState(data),\n      dataPerson = _useState[0],\n      setDataPerson = _useState[1];\n\n  var _useState2 = useState(false),\n      showDescrition = _useState2[0],\n      setShowDescription = _useState2[1];\n\n  var _useState3 = useState(Number(params.id)),\n      page = _useState3[0],\n      setPage = _useState3[1];\n\n  var _useState4 = useState(true),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var searchRef = useRef(null);\n  var router = useRouter();\n  var myScroll = useRef(null);\n\n  var executeScroll = function executeScroll() {\n    return scrollToRef(myScroll);\n  };\n\n  var SwipeDownAnimation = {\n    loop: true,\n    autoplay: true,\n    animationData: SwipeDown,\n    rendererSettings: {\n      preserveAspectRatio: 'xMidYMid slice'\n    }\n  };\n  var LoadingAnimation = {\n    loop: true,\n    autoplay: true,\n    animationData: Loading,\n    rendererSettings: {\n      preserveAspectRatio: 'xMidYMid slice'\n    }\n  }; // useEffect(() => {\n  //   if (page >= 2) {\n  //     executeScroll();\n  //   }\n  // }, [page]);\n\n  var handleSubmit = function handleSubmit(event) {\n    event.preventDefault();\n    console.log(searchRef.current.value);\n  };\n\n  var handleMoveToNextPage = function handleMoveToNextPage() {\n    if (dataPerson.info.next !== null) {\n      var nextPage = dataPerson.info.next.split('page=')[1];\n      router.push(\"\".concat(nextPage));\n      console.log(nextPage);\n    }\n  };\n\n  var handleMoveToPrevPage = function handleMoveToPrevPage() {\n    setPage(function (prevState) {\n      return prevState - 1;\n    });\n\n    if (dataPerson.info.prev !== null) {\n      var prevPage = dataPerson.info.prev.split('page=')[1];\n      router.push(\"\".concat(prevPage));\n    }\n  };\n\n  Router.events.on('routeChangeStart', function () {\n    if (dataPerson.info.next !== null) {\n      setLoading(false);\n    }\n  });\n  Router.events.on('routeChangeComplete', function () {\n    if (dataPerson.info.next !== null) {\n      setLoading(true);\n      executeScroll();\n    }\n  });\n  return __jsx(React.Fragment, null, __jsx(StyledMain, null, __jsx(Container, null, __jsx(\"img\", {\n    src: \"/rick.svg\",\n    alt: \"\"\n  }), __jsx(Text, null, \"Rick and Morty\"), __jsx(Description, {\n    showDescrition: showDescrition\n  }, \"A s\\xE9rie mostra as aventuras ins\\xF3litas do cientista beberr\\xE3o Rick Sanchez e seu neto inseguro e com horm\\xF4nios em ebuli\\xE7\\xE3o Morty Smith, membros de uma fam\\xEDlia americana comum, composta tamb\\xE9m por Jerry, um pai ignorante; Beth, uma m\\xE3e sensata e Summer, uma irm\\xE3 mais velha, t\\xEDpica adolescente alienada, que se compadece do irm\\xE3o quando passa a integrar as aventuras de seu av\\xF4.\"), __jsx(StyledButton, {\n    onClick: function onClick() {\n      return setShowDescription(!showDescrition);\n    },\n    about: \"true\"\n  }, !showDescrition ? 'SOBRE' : 'ESCONDER'), __jsx(StyledArrowDown, null, __jsx(Lottie, {\n    isClickToPauseDisabled: true,\n    options: SwipeDownAnimation,\n    height: 80,\n    width: 80\n  })))), __jsx(StyledProfiles, null, __jsx(Box, null), __jsx(Container, null, __jsx(\"div\", {\n    ref: myScroll\n  }, __jsx(Text, {\n    person: \"true\"\n  }, \"Personagens\"), __jsx(Line, null)), __jsx(InputSearch, {\n    onSubmit: handleSubmit\n  }, __jsx(\"input\", {\n    ref: searchRef,\n    type: \"text\",\n    placeholder: \"Pesquisar\"\n  }), __jsx(StyledButton, {\n    type: \"submit\",\n    search: \"true\"\n  }, __jsx(FiSearch, null)))), __jsx(Container, null, __jsx(SectionCards, null, loading ? __jsx(Card, {\n    results: dataPerson.results\n  }) : __jsx(Lottie, {\n    isClickToPauseDisabled: true,\n    options: LoadingAnimation,\n    height: 80,\n    width: 80\n  }))), __jsx(Container, null, __jsx(CountPages, null, __jsx(StyledButton, {\n    countPage: \"true\",\n    onClick: handleMoveToPrevPage\n  }, \" \", __jsx(FiArrowLeft, null), \" Prev\"), __jsx(Text, {\n    count: \"true\"\n  }, \"01\"), __jsx(StyledButton, {\n    countPage: \"true\",\n    onClick: handleMoveToNextPage\n  }, \"Next \", __jsx(FiArrowRight, null)))), __jsx(Text, {\n    footer: \"true\"\n  }, \"Created By: \", __jsx(\"a\", {\n    target: \"_blank\",\n    href: \"https://github.com/Matheus0liveira\"\n  }, \" Matheus Oliveira \", __jsx(\"span\", null, __jsx(FiHeart, null), \" \"), \" \"))), __jsx(\"footer\", null));\n}\n\n;\n;\nexport var __N_SSG = true;\nexport default Home;","map":null,"metadata":{},"sourceType":"module"}